const _0x3f6431=_0x3dad;(function(_0x187570,_0x59488c){const _0x14b6a0=_0x3dad,_0x4d55a=_0x187570();while(!![]){try{const _0x3ec9a2=parseInt(_0x14b6a0(0x11e))/0x1*(parseInt(_0x14b6a0(0x15a))/0x2)+parseInt(_0x14b6a0(0x13d))/0x3+-parseInt(_0x14b6a0(0x150))/0x4+-parseInt(_0x14b6a0(0x100))/0x5+-parseInt(_0x14b6a0(0x179))/0x6*(-parseInt(_0x14b6a0(0x13f))/0x7)+parseInt(_0x14b6a0(0x1c6))/0x8*(parseInt(_0x14b6a0(0x1ef))/0x9)+-parseInt(_0x14b6a0(0x115))/0xa;if(_0x3ec9a2===_0x59488c)break;else _0x4d55a['push'](_0x4d55a['shift']());}catch(_0x5860a4){_0x4d55a['push'](_0x4d55a['shift']());}}}(_0x23a2,0xb38b3));let gameState=_0x3f6431(0x1c2),playTime=0x0,level=0x1,exp=0x0,playerHealth=0x3,playerAttack=0x1,basePlayerAttack=0x1,initialSpawnCooldown=0x3e8,weakEnemyBaseHealth=0x3,lastSpawnTime=0x0,lastBossSpawnTime=0x0,blueDistance,canvas,ctx,player,enemies=[],bullets=[],effects=[],expOrbs=[],keys={},lastTime=0x0,items=[],images={},joystick=null,weakEnemyBaseSpeed=0x64,expToLevelUp=0x14,playerAttackSpeed=0x4,playerAttackInterval=0x3e8/playerAttackSpeed;const itemDefinitions=[{'name':_0x3f6431(0xfe),'rarity':'일반','school':_0x3f6431(0x1a9),'iconImage':_0x3f6431(0x162),'cardImage':_0x3f6431(0x12b),'baseDescription':_0x3f6431(0x1dd),'enhancementLevel':0x0,'maxEnhancementLevel':0x5,'getDescription':function(){const _0x2ea413=_0x3f6431;return this[_0x2ea413(0x1a5)][_0x2ea413(0x14d)](_0x2ea413(0x133),this['enhancementLevel']*0xc8)[_0x2ea413(0x14d)](_0x2ea413(0x1a6),(this[_0x2ea413(0x128)]+0x1)*0xc8);},'effect':function(){let _0x2708da=0x0;const _0xbb64c0=0x1f40;return(_0x50e25d,_0xfb9fd4,_0xea4cbc)=>{const _0x1f34bb=_0x3dad;if(_0x50e25d-_0x2708da>=_0xbb64c0){const _0x4b36f1={'hitEnemies':new Set(),'x':_0xfb9fd4,'y':_0xea4cbc,'radius':0x118,'angle':0x2*Math['PI']/0x3,'duration':0x1f4,'damage':playerAttack*this['enhancementLevel']*0x2,'type':_0x1f34bb(0x13e),'cc':'knockback','startTime':_0x50e25d};effects[_0x1f34bb(0x18e)](_0x4b36f1),_0x2708da=_0x50e25d;}};}},{'name':_0x3f6431(0x1c8),'rarity':'희귀','school':_0x3f6431(0x183),'iconImage':_0x3f6431(0xfd),'cardImage':'mmi2.gif','baseDescription':_0x3f6431(0x107),'enhancementLevel':0x0,'maxEnhancementLevel':0x5,'getDescription':function(){const _0x37baee=_0x3f6431;return this[_0x37baee(0x1a5)][_0x37baee(0x14d)]('{value}',this[_0x37baee(0x128)]*0xc8)[_0x37baee(0x14d)](_0x37baee(0x1a6),(this[_0x37baee(0x128)]+0x1)*0xc8);},'effect':function(){let _0x141185=0x0;const _0xcbe76c=0xfa0;return(_0x5e799e,_0x453789,_0x9f7c1)=>{const _0x23924e=_0x3dad;if(_0x5e799e-_0x141185>=_0xcbe76c){const _0x581728={'hitEnemies':new Set(),'x':_0x453789,'y':_0x9f7c1,'radius':0x154,'angle':Math['PI']/0x6,'duration':0x1f4,'damage':playerAttack*this[_0x23924e(0x128)]*0x2,'type':_0x23924e(0x13e),'startTime':_0x5e799e};effects[_0x23924e(0x18e)](_0x581728),_0x141185=_0x5e799e;}};}},{'name':_0x3f6431(0x119),'rarity':'일반','school':'밀레니엄','iconImage':_0x3f6431(0x1ac),'cardImage':_0x3f6431(0x165),'baseDescription':'유즈가\x20선생님의\x20공격력을\x20{value}\x20->\x20{value2}\x20증가시킵니다','enhancementLevel':0x0,'maxEnhancementLevel':0x5,'getDescription':function(){const _0x3c56d6=_0x3f6431;return this['baseDescription']['replace'](_0x3c56d6(0x133),this[_0x3c56d6(0x128)])[_0x3c56d6(0x14d)]('{value2}',this['enhancementLevel']+0x1);},'effect':function(){return basePlayerAttack+=0x1,playerAttack=basePlayerAttack,()=>{};}},{'name':_0x3f6431(0xff),'rarity':'일반','school':_0x3f6431(0x1a9),'iconImage':_0x3f6431(0x140),'cardImage':_0x3f6431(0x187),'baseDescription':'노노미가\x20{value}\x20->\x20{value2}초마다\x20기관총으로\x20전방의\x20적을\x20공격합니다\x20(공격력\x20100%)','enhancementLevel':0x0,'maxEnhancementLevel':0x5,'getDescription':function(){const _0x228030=_0x3f6431,_0x549ee4=(0x1d4c-this[_0x228030(0x128)]*0x1f4)/0x3e8,_0x29982=(0x1d4c-(this[_0x228030(0x128)]+0x1)*0x1f4)/0x3e8;return this[_0x228030(0x1a5)][_0x228030(0x14d)](_0x228030(0x133),_0x549ee4[_0x228030(0x134)](0x1))[_0x228030(0x14d)](_0x228030(0x1a6),_0x29982['toFixed'](0x1));},'effect':function(){let _0x57abbb=0x0;const _0x236b8f=0xa,_0x419b25=Math['PI']/0x3;return(_0x119d29,_0x1cbb9b,_0x15a7aa)=>{const _0x11408f=_0x3dad,_0x258839=0x1d4c-this[_0x11408f(0x128)]*0x1f4;if(_0x119d29-_0x57abbb>=_0x258839){const _0x501921=-Math['PI']/0x2-_0x419b25/0x2,_0x55cde6=-Math['PI']/0x2+_0x419b25/0x2;for(let _0x232e3b=0x0;_0x232e3b<_0x236b8f;_0x232e3b++){setTimeout(()=>{const _0x4278da=_0x11408f,_0x3ca82c=_0x232e3b/(_0x236b8f-0x1),_0x503085=_0x501921+(_0x55cde6-_0x501921)*_0x3ca82c;bullets[_0x4278da(0x18e)]({'x':player['x'],'y':player['y'],'speed':0x12c,'angle':_0x503085,'width':0xc,'height':0x10,'damage':playerAttack});},_0x232e3b*0x19);}for(let _0x5d9187=0x0;_0x5d9187<_0x236b8f;_0x5d9187++){setTimeout(()=>{const _0x4cb7e6=_0x11408f,_0x405d6a=0x1-_0x5d9187/(_0x236b8f-0x1),_0x2da56b=_0x501921+(_0x55cde6-_0x501921)*_0x405d6a;bullets[_0x4cb7e6(0x18e)]({'x':player['x'],'y':player['y'],'speed':0x12c,'angle':_0x2da56b,'width':0xc,'height':0x10,'damage':playerAttack});},(_0x236b8f+_0x5d9187)*0x19);}_0x57abbb=_0x119d29;}};}},{'name':'세리카의\x20지원','rarity':'일반','school':_0x3f6431(0x1a9),'iconImage':_0x3f6431(0x102),'cardImage':'kr2.png','baseDescription':_0x3f6431(0x112),'enhancementLevel':0x0,'maxEnhancementLevel':0x5,'getDescription':function(){const _0x1238b7=_0x3f6431;return this['baseDescription'][_0x1238b7(0x14d)](_0x1238b7(0x133),this[_0x1238b7(0x128)]*0x12c)['replace'](_0x1238b7(0x1a6),(this['enhancementLevel']+0x1)*0x12c);},'effect':function(){let _0x532fe3=0x0;const _0x105069=0x1388;return _0x5ea1ed=>{const _0x56daa7=_0x3dad;if(_0x5ea1ed-_0x532fe3>=_0x105069){const _0x22c311={'x':Math[_0x56daa7(0x138)]()*canvas['width'],'y':Math[_0x56daa7(0x138)]()*(canvas[_0x56daa7(0x1dc)]/0x2),'radius':0x8c,'duration':0x1f4,'damage':playerAttack*this[_0x56daa7(0x128)]*0x3,'type':_0x56daa7(0x16d),'startTime':_0x5ea1ed};effects[_0x56daa7(0x18e)](_0x22c311),_0x532fe3=_0x5ea1ed;}};}},{'name':_0x3f6431(0x130),'rarity':'희귀','school':_0x3f6431(0x1a9),'iconImage':'srk1.png','cardImage':_0x3f6431(0x129),'baseDescription':_0x3f6431(0x132),'enhancementLevel':0x0,'maxEnhancementLevel':0x5,'getDescription':function(){const _0x40c4b8=_0x3f6431;return this[_0x40c4b8(0x1a5)][_0x40c4b8(0x14d)](_0x40c4b8(0x133),this[_0x40c4b8(0x128)])[_0x40c4b8(0x14d)](_0x40c4b8(0x1a6),this[_0x40c4b8(0x128)]+0x1);},'effect':function(){let _0x2db808=0x0;const _0x29fbf4=0xbb8;return _0x5548ec=>{const _0x8b8788=_0x3dad;gameState===_0x8b8788(0x1a0)&&_0x5548ec-_0x2db808>=_0x29fbf4&&(exp+=this[_0x8b8788(0x128)],updateExp(),_0x2db808=_0x5548ec,console[_0x8b8788(0x1d9)](_0x8b8788(0x143)+this[_0x8b8788(0x128)]));};}},{'name':_0x3f6431(0x108),'rarity':'영웅','school':'아비도스','iconImage':_0x3f6431(0x1df),'cardImage':'ayn2.png','baseDescription':_0x3f6431(0x16a),'enhancementLevel':0x0,'maxEnhancementLevel':0x5,'getDescription':function(){const _0x1f84df=_0x3f6431;return this[_0x1f84df(0x1a5)][_0x1f84df(0x14d)]('{value}',this[_0x1f84df(0x128)])['replace']('{value2}',Math[_0x1f84df(0x182)](this[_0x1f84df(0x128)]+0x1,0x5));},'effect':function(){let _0x514f59=0x0;const _0x5061a0=0x7530;return _0x1de924=>{const _0x3e79c0=_0x3dad;if(_0x1de924-_0x514f59>=_0x5061a0){const _0x56d5d2=Math['min'](this[_0x3e79c0(0x128)],0x5-playerHealth);playerHealth=Math[_0x3e79c0(0x182)](playerHealth+_0x56d5d2,0x5),_0x514f59=_0x1de924,console['log'](_0x3e79c0(0x137)+_0x56d5d2);}};}},{'name':'하츠네미쿠의\x20스페셜\x20라이브','rarity':'전설','school':_0x3f6431(0x158),'iconImage':_0x3f6431(0x1ca),'cardImage':_0x3f6431(0x1af),'baseDescription':_0x3f6431(0x14a),'enhancementLevel':0x0,'maxEnhancementLevel':0x5,'getDescription':function(){const _0x420899=_0x3f6431;return this[_0x420899(0x1a5)]['replace'](_0x420899(0x133),0x23-this[_0x420899(0x128)]*0x5)['replace'](_0x420899(0x1a6),0x23-(this[_0x420899(0x128)]+0x1)*0x5);},'effect':function(){const _0x1545b7=_0x3f6431;let _0x14ef62=0x0;const _0x346f14=()=>(0x23-this[_0x1545b7(0x128)]*0x5)*0x3e8,_0x846a76=0x2710;return(_0x30fd39,_0x1fdfd6,_0x5a4704)=>{const _0x926340=_0x1545b7;if(_0x30fd39-_0x14ef62>=_0x346f14()){const _0x1e6bcf={'x':canvas[_0x926340(0xf7)]/0x2,'y':canvas[_0x926340(0x1dc)]/0x2,'radius':0x118,'duration':_0x846a76,'type':'miku_live','startTime':_0x30fd39};effects[_0x926340(0x18e)](_0x1e6bcf),_0x14ef62=_0x30fd39;}const _0x237a22=effects[_0x926340(0x14c)](_0x44b332=>_0x44b332[_0x926340(0x10f)]==='miku_live'&&_0x30fd39-_0x44b332[_0x926340(0x184)]<_0x44b332[_0x926340(0x15c)]);if(_0x237a22){const _0x598f34=_0x1fdfd6-_0x237a22['x'],_0x2d01d2=_0x5a4704-_0x237a22['y'],_0x37d11c=Math[_0x926340(0x126)](_0x598f34*_0x598f34+_0x2d01d2*_0x2d01d2);_0x37d11c<=_0x237a22[_0x926340(0x1db)]?playerAttack=basePlayerAttack*3.9:playerAttack=basePlayerAttack;}else playerAttack=basePlayerAttack;};}},{'name':'미도리의\x20드로잉\x20아트','rarity':'영웅','school':_0x3f6431(0x183),'iconImage':'mdr1.png','cardImage':_0x3f6431(0x189),'baseDescription':_0x3f6431(0x1ce),'enhancementLevel':0x0,'maxEnhancementLevel':0x5,'getDescription':function(){const _0x1dad72=_0x3f6431;return this[_0x1dad72(0x1a5)][_0x1dad72(0x14d)](_0x1dad72(0x133),this[_0x1dad72(0x128)]*0x1f4)[_0x1dad72(0x14d)]('{value2}',(this[_0x1dad72(0x128)]+0x1)*0x1f4);},'effect':function(){let _0x4be5a9=0x0;const _0x3c1ef2=0x1b58,_0x4d47d4=0x5,_0x21a2ba=0x96;return(_0x20cd08,_0x2ffe13,_0x717733)=>{if(_0x20cd08-_0x4be5a9>=_0x3c1ef2){for(let _0x552154=0x0;_0x552154<_0x4d47d4;_0x552154++){setTimeout(()=>{const _0x11741b=_0x3dad,_0x130903=findClosestEnemy(player['x'],player['y']);if(_0x130903){const _0x12e470=Math['atan2'](_0x130903['y']-player['y'],_0x130903['x']-player['x']);bullets['push']({'x':player['x'],'y':player['y'],'speed':0x3e8,'angle':_0x12e470,'width':0xc,'height':0x10,'damage':playerAttack*this[_0x11741b(0x128)]*0x5,'color':_0x11741b(0x124),'type':_0x11741b(0x181)});}},_0x552154*_0x21a2ba);}_0x4be5a9=_0x20cd08;}};}}],specialItem={'name':'검은양복의\x20선물','rarity':'???','school':_0x3f6431(0x1f3),'iconImage':_0x3f6431(0x1bc),'cardImage':_0x3f6431(0x105),'baseDescription':'안아줘요\x20선생(적들의\x20체력이\x20{value}\x20->\x20{value2}%\x20증가합니다)','enhancementLevel':0x0,'maxEnhancementLevel':Infinity,'getDescription':function(){const _0x323edc=_0x3f6431;return this[_0x323edc(0x1a5)][_0x323edc(0x14d)](_0x323edc(0x133),this['enhancementLevel']*0xa)[_0x323edc(0x14d)](_0x323edc(0x1a6),(this[_0x323edc(0x128)]+0x1)*0xa);},'effect':function(){const _0xc6cc30=_0x3f6431,_0x1053eb=this[_0xc6cc30(0x128)]*0.1;return weakEnemyBaseHealth*=0x1+_0x1053eb,()=>{};}};function loadImages(){return new Promise((_0x2bd802,_0x416fa9)=>{const _0x91b536=_0x3dad,_0x6136e5=[_0x91b536(0x151),_0x91b536(0x162),'hsn2.png',_0x91b536(0x140),_0x91b536(0x187),_0x91b536(0x102),_0x91b536(0x104),'srk1.png',_0x91b536(0x129),_0x91b536(0x1df),_0x91b536(0x1c0),'hmk1.png',_0x91b536(0x1af),_0x91b536(0x171),_0x91b536(0x189),_0x91b536(0xfd),_0x91b536(0x1b0),_0x91b536(0x1ac),_0x91b536(0x165),_0x91b536(0x1bc),'kkk2.png'];let _0x260982=0x0;_0x6136e5[_0x91b536(0x16f)](_0x417db7=>{const _0x3f60a9=_0x91b536,_0x5ed6ad=new Image();_0x5ed6ad[_0x3f60a9(0x18c)]=()=>{const _0x229d4c=_0x3f60a9;_0x260982++,_0x260982===_0x6136e5[_0x229d4c(0x180)]&&_0x2bd802();},_0x5ed6ad[_0x3f60a9(0x153)]=_0x501d88=>{const _0x436e7e=_0x3f60a9;console[_0x436e7e(0x188)](_0x436e7e(0x1cc)+_0x417db7+':',_0x501d88),_0x416fa9(_0x501d88);},_0x5ed6ad[_0x3f60a9(0x154)]=_0x3f60a9(0x1de)+_0x417db7,images[_0x417db7]=_0x5ed6ad;});});}function updateItems(_0x2f5522){const _0x2c922b=_0x3f6431;items[_0x2c922b(0x16f)](_0x5a7614=>{const _0x19e213=_0x2c922b;typeof _0x5a7614[_0x19e213(0x198)]==='function'&&_0x5a7614[_0x19e213(0x198)](_0x2f5522,player['x'],player['y']);});}function calculateScore(){return Math['ceil'](playTime*0xa)*0xa;}function updateGameDifficulty(){const _0x148a6c=_0x3f6431,_0x313419=Math['floor'](playTime),_0x4fd153=Math['floor'](_0x313419/0x14)*0x32;spawnCooldown=Math['max'](0x1f4,initialSpawnCooldown-_0x4fd153);const _0x5cc820=Math[_0x148a6c(0x15d)](_0x313419/0x3c)*0xa;weakEnemyBaseSpeed=Math[_0x148a6c(0x182)](0x64+_0x5cc820,0xfa),expToLevelUp=level>=0x14?0x28:0x14;const _0x43dedc=Math[_0x148a6c(0x15d)](_0x313419/0x3c)*0x5,_0x32bc66=items[_0x148a6c(0x14c)](_0x4c406b=>_0x4c406b[_0x148a6c(0x114)]===_0x148a6c(0x1a3)),_0x3359d5=_0x32bc66?0x1+_0x32bc66['enhancementLevel']*0.1:0x1;weakEnemyBaseHealth=(0x3+_0x43dedc)*_0x3359d5;}function _0x3dad(_0x102038,_0x2e6aa7){const _0x23a259=_0x23a2();return _0x3dad=function(_0x3dade9,_0x2b7893){_0x3dade9=_0x3dade9-0xf6;let _0x127c72=_0x23a259[_0x3dade9];return _0x127c72;},_0x3dad(_0x102038,_0x2e6aa7);}async function initGame(){const _0x8b52d0=_0x3f6431;canvas=document[_0x8b52d0(0x201)](_0x8b52d0(0x109)),ctx=canvas[_0x8b52d0(0x200)]('2d');try{await loadImages(),console[_0x8b52d0(0x1d9)](_0x8b52d0(0x1ee));}catch(_0x381a6c){console['error'](_0x8b52d0(0x1a7),_0x381a6c);}resizeCanvas(),window[_0x8b52d0(0x1b5)]('resize',resizeCanvas),resetPlayerPosition(),document['getElementById']('start-button')['addEventListener']('click',startGame),document[_0x8b52d0(0x201)](_0x8b52d0(0x163))[_0x8b52d0(0x1b5)](_0x8b52d0(0x116),submitScore),window['addEventListener'](_0x8b52d0(0x15e),handleKeyDown),window['addEventListener'](_0x8b52d0(0x17d),handleKeyUp),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i[_0x8b52d0(0x1ab)](navigator[_0x8b52d0(0x139)])&&createJoystick(),loadRankings();}function resizeCanvas(){const _0x46f36b=_0x3f6431,_0xc127ad=document[_0x46f36b(0x201)](_0x46f36b(0x18a)),_0x15ded7=window[_0x46f36b(0x145)],_0x378f62=window[_0x46f36b(0x103)],_0x1fa233=0x438/0x2d0;let _0x53dcfa,_0x57156d;_0x378f62/_0x15ded7>_0x1fa233?(_0x53dcfa=_0x15ded7,_0x57156d=_0x15ded7*_0x1fa233):(_0x57156d=_0x378f62,_0x53dcfa=_0x378f62/_0x1fa233);_0x53dcfa=Math[_0x46f36b(0x10b)](_0x53dcfa,0x2d0*0.5),_0x57156d=Math[_0x46f36b(0x10b)](_0x57156d,0x438*0.5),_0xc127ad[_0x46f36b(0x1fd)][_0x46f36b(0xf7)]=_0x53dcfa+'px',_0xc127ad['style']['height']=_0x57156d+'px',canvas['width']=0x2d0,canvas['height']=0x438;const _0x3605eb=_0x53dcfa/0x2d0,_0x1a6c5f=_0x57156d/0x438;ctx[_0x46f36b(0x1f6)](_0x3605eb,0x0,0x0,_0x1a6c5f,0x0,0x0),blueDistance=canvas[_0x46f36b(0xf7)]/0x3,player&&(player['x']=Math['min'](Math['max'](player['x'],player[_0x46f36b(0xf7)]/0x2),canvas['width']-player['width']/0x2),player['y']=Math['min'](Math['max'](player['y'],player[_0x46f36b(0x1dc)]/0x2),canvas['height']-player[_0x46f36b(0x1dc)]/0x2));}function resetPlayerPosition(){const _0x6cf974=_0x3f6431;player={'x':canvas[_0x6cf974(0xf7)]/0x2,'y':canvas[_0x6cf974(0x1dc)]/0x2,'width':0x1e,'height':0x1e,'speed':0x12c,'invincible':![],'lastShot':0x0,'visible':!![]};}function startGame(){const _0x36cc76=_0x3f6431;resetGame(),gameState=_0x36cc76(0x1a0),document[_0x36cc76(0x201)]('start-screen')['style'][_0x36cc76(0x13b)]=_0x36cc76(0x195),document[_0x36cc76(0x201)](_0x36cc76(0x169))['style']['display']=_0x36cc76(0x1e4),playTime=0x0,lastTime=performance[_0x36cc76(0x1b7)](),lastSpawnTime=lastTime,lastBossSpawnTime=lastTime,resetPlayerPosition(),basePlayerAttack=0x1,playerAttack=0x1,level=0x1,exp=0x13,items=[],updateExp(),requestAnimationFrame(gameLoop);}function gameLoop(_0x449b18){if(gameState!=='playing'){gameState==='paused'&&(lastTime=_0x449b18);requestAnimationFrame(gameLoop);return;}const _0xc8f41b=(_0x449b18-lastTime)/0x3e8;lastTime=_0x449b18,playTime+=_0xc8f41b,update(_0xc8f41b,_0x449b18),render(),requestAnimationFrame(gameLoop);}function findClosestEnemy(_0x3d4ab0,_0x1a8592){const _0x450d91=_0x3f6431;let _0x3fb4c3=null,_0xc752de=Infinity;return enemies[_0x450d91(0x16f)](_0x3ce1c9=>{const _0x355230=_0x450d91;if(_0x3ce1c9[_0x355230(0x10f)]===_0x355230(0x15b)&&!_0x3ce1c9[_0x355230(0x12d)]){const _0x17467b=_0x3ce1c9['x']-_0x3d4ab0,_0x5b6f5d=_0x3ce1c9['y']-_0x1a8592,_0x408f82=Math[_0x355230(0x126)](_0x17467b*_0x17467b+_0x5b6f5d*_0x5b6f5d);_0x408f82<_0xc752de&&(_0xc752de=_0x408f82,_0x3fb4c3=_0x3ce1c9);}}),_0x3fb4c3;}function createExpOrb(_0x4eb06b,_0x255126){const _0x2c34be=_0x3f6431;expOrbs[_0x2c34be(0x18e)]({'x':_0x4eb06b,'y':_0x255126,'width':player[_0x2c34be(0xf7)],'height':player[_0x2c34be(0x1dc)],'speed':0x1f4,'toRemove':![]});}function createExpOrbIfNeeded(_0xc902b9){const _0x233d08=_0x3f6431;_0xc902b9['health']<=0x0&&!_0xc902b9['expOrbCreated']&&(createExpOrb(_0xc902b9['x'],_0xc902b9['y']),_0xc902b9[_0x233d08(0x17e)]=!![],_0xc902b9[_0x233d08(0x12d)]=!![]);}function update(_0x43460b,_0x219dad){updateGameDifficulty(),updateSpawnCooldown(),spawnEnemies(_0x219dad),updateEnemies(_0x43460b,_0x219dad),updateBullets(_0x43460b),updateEffects(_0x219dad,_0x43460b),updatePlayer(_0x43460b,_0x219dad),updateExpOrbs(_0x43460b),checkCollisions(),updateExp(),updateItems(_0x219dad);}function createJoystick(){const _0x5f05fe=_0x3f6431,_0x57d9c8=document[_0x5f05fe(0x10c)]('div');_0x57d9c8['id']=_0x5f05fe(0x175),_0x57d9c8[_0x5f05fe(0x1fd)][_0x5f05fe(0x1ff)]=_0x5f05fe(0x141),_0x57d9c8[_0x5f05fe(0x1fd)][_0x5f05fe(0x127)]=_0x5f05fe(0x135),_0x57d9c8[_0x5f05fe(0x1fd)][_0x5f05fe(0x1fc)]='20px',_0x57d9c8[_0x5f05fe(0x1fd)][_0x5f05fe(0xf7)]='100px',_0x57d9c8['style'][_0x5f05fe(0x1dc)]=_0x5f05fe(0x177),_0x57d9c8[_0x5f05fe(0x1fd)][_0x5f05fe(0x1a2)]=_0x5f05fe(0x1d7),_0x57d9c8[_0x5f05fe(0x1fd)][_0x5f05fe(0x144)]=_0x5f05fe(0x173),_0x57d9c8['style'][_0x5f05fe(0x1da)]=_0x5f05fe(0x195);const _0x4dbef7=document[_0x5f05fe(0x10c)](_0x5f05fe(0x1d5));_0x4dbef7['id']=_0x5f05fe(0x1e6),_0x4dbef7[_0x5f05fe(0x1fd)][_0x5f05fe(0x1ff)]='absolute',_0x4dbef7[_0x5f05fe(0x1fd)][_0x5f05fe(0x127)]=_0x5f05fe(0x1eb),_0x4dbef7[_0x5f05fe(0x1fd)][_0x5f05fe(0x168)]=_0x5f05fe(0x1eb),_0x4dbef7[_0x5f05fe(0x1fd)][_0x5f05fe(0xf7)]=_0x5f05fe(0xf9),_0x4dbef7[_0x5f05fe(0x1fd)][_0x5f05fe(0x1dc)]=_0x5f05fe(0xf9),_0x4dbef7[_0x5f05fe(0x1fd)][_0x5f05fe(0x1a2)]=_0x5f05fe(0xfa),_0x4dbef7['style'][_0x5f05fe(0x144)]=_0x5f05fe(0x173),_0x57d9c8[_0x5f05fe(0x1cf)](_0x4dbef7),document['body'][_0x5f05fe(0x1cf)](_0x57d9c8),joystick={'container':_0x57d9c8,'stick':_0x4dbef7,'active':![],'position':{'x':0x0,'y':0x0}},_0x57d9c8[_0x5f05fe(0x1b5)](_0x5f05fe(0x1cd),handleJoystickStart),_0x57d9c8[_0x5f05fe(0x1b5)]('touchmove',handleJoystickMove),_0x57d9c8[_0x5f05fe(0x1b5)](_0x5f05fe(0x118),handleJoystickEnd);}function handleJoystickStart(_0x4e8976){const _0x211b12=_0x3f6431;joystick[_0x211b12(0x1c1)]=!![];}function handleJoystickMove(_0x154be0){const _0x5a8dd4=_0x3f6431;if(!joystick['active'])return;const _0x3718a6=joystick[_0x5a8dd4(0x1b8)][_0x5a8dd4(0x1e0)](),_0x5aa825=_0x3718a6['left']+_0x3718a6[_0x5a8dd4(0xf7)]/0x2,_0x414957=_0x3718a6['top']+_0x3718a6[_0x5a8dd4(0x1dc)]/0x2,_0x2e411d=_0x154be0[_0x5a8dd4(0x157)][0x0],_0x35c00f=_0x2e411d[_0x5a8dd4(0x196)]-_0x5aa825,_0x1a7f6e=_0x2e411d['clientY']-_0x414957,_0x3fa65f=Math[_0x5a8dd4(0x182)](_0x3718a6[_0x5a8dd4(0xf7)]/0x2,Math['sqrt'](_0x35c00f*_0x35c00f+_0x1a7f6e*_0x1a7f6e)),_0x46c257=Math[_0x5a8dd4(0x11d)](_0x1a7f6e,_0x35c00f),_0x54f51a=Math[_0x5a8dd4(0x14e)](_0x46c257)*_0x3fa65f,_0x4f2e1f=Math[_0x5a8dd4(0x1b9)](_0x46c257)*_0x3fa65f;joystick['position']={'x':_0x54f51a,'y':_0x4f2e1f},joystick[_0x5a8dd4(0x167)][_0x5a8dd4(0x1fd)][_0x5a8dd4(0x148)]=_0x5a8dd4(0x17f)+_0x54f51a+'px,\x20'+_0x4f2e1f+_0x5a8dd4(0x13a);}function handleJoystickEnd(_0x43ae9e){const _0x4048ab=_0x3f6431;joystick['active']=![],joystick[_0x4048ab(0x1ff)]={'x':0x0,'y':0x0},joystick[_0x4048ab(0x167)][_0x4048ab(0x1fd)]['transform']=_0x4048ab(0x1e9);}function updatePlayer(_0x29cf04,_0x46e2e2){const _0x5e42fc=_0x3f6431;let _0x23695a=0x0,_0x5b577f=0x0;if(joystick&&joystick['active'])_0x23695a=joystick['position']['x']/0x32*player[_0x5e42fc(0x1c5)]*_0x29cf04,_0x5b577f=joystick['position']['y']/0x32*player[_0x5e42fc(0x1c5)]*_0x29cf04;else{if(keys[_0x5e42fc(0x156)]||keys['a'])_0x23695a-=player[_0x5e42fc(0x1c5)]*_0x29cf04;if(keys[_0x5e42fc(0x19e)]||keys['d'])_0x23695a+=player['speed']*_0x29cf04;if(keys[_0x5e42fc(0x159)]||keys['w'])_0x5b577f-=player[_0x5e42fc(0x1c5)]*_0x29cf04;if(keys[_0x5e42fc(0x106)]||keys['s'])_0x5b577f+=player[_0x5e42fc(0x1c5)]*_0x29cf04;}player['x']=Math[_0x5e42fc(0x10b)](player['width']/0x2,Math['min'](canvas[_0x5e42fc(0xf7)]-player[_0x5e42fc(0xf7)]/0x2,player['x']+_0x23695a)),player['y']=Math[_0x5e42fc(0x10b)](player['height']/0x2,Math[_0x5e42fc(0x182)](canvas[_0x5e42fc(0x1dc)]-player[_0x5e42fc(0x1dc)]/0x2,player['y']+_0x5b577f));if(_0x46e2e2-player[_0x5e42fc(0x152)]>playerAttackInterval){const _0x9ae5f8=player['x']+(Math[_0x5e42fc(0x138)]()-0.5)*player[_0x5e42fc(0xf7)];bullets[_0x5e42fc(0x18e)]({'x':_0x9ae5f8,'y':player['y']-player[_0x5e42fc(0x1dc)]/0x2,'width':0xc,'height':0x10,'speed':0x1f4,'angle':-Math['PI']/0x2}),player['lastShot']=_0x46e2e2;}}function updateSpawnCooldown(){const _0x34cf93=_0x3f6431,_0x5420c5=Math[_0x34cf93(0x15d)](playTime/0x3c);spawnCooldown=0x3e8*Math[_0x34cf93(0x1d6)](0.9,Math[_0x34cf93(0x15d)](_0x5420c5/0.5));}function spawnEnemies(_0x8a3810){_0x8a3810-lastSpawnTime>spawnCooldown&&(spawnWeakEnemy(),lastSpawnTime=_0x8a3810),_0x8a3810-lastBossSpawnTime>0x1d4c0&&(spawnBossEnemy(),lastBossSpawnTime=_0x8a3810);}let enemyId=0x0;function spawnWeakEnemy(){const _0xab9a43=_0x3f6431;enemies[_0xab9a43(0x18e)]({'id':enemyId++,'x':Math[_0xab9a43(0x138)]()*canvas[_0xab9a43(0xf7)],'y':0x0,'width':0x1e,'height':0x1e,'health':weakEnemyBaseHealth,'speed':weakEnemyBaseSpeed,'type':_0xab9a43(0x15b),'state':'normal','stateTimer':0x0,'expOrbCreated':![]});}function spawnBossEnemy(){const _0x2e977b=_0x3f6431;enemies[_0x2e977b(0x18e)]({'x':Math['random']()*canvas[_0x2e977b(0xf7)],'y':0x0,'width':0x3c,'height':0x3c,'health':0x64,'speed':0x0,'type':_0x2e977b(0x1cb)});}function updateEnemies(_0x7165a3,_0x4e1004){const _0xa186da=_0x3f6431;enemies[_0xa186da(0x16f)](_0x57f912=>{const _0x2f456d=_0xa186da;if(_0x57f912[_0x2f456d(0x10f)]===_0x2f456d(0x15b)){switch(_0x57f912[_0x2f456d(0x1f8)]){case _0x2f456d(0x1f4):case _0x2f456d(0x18b):const _0x111eb7=player['x']-_0x57f912['x'],_0x22fff7=player['y']-_0x57f912['y'],_0x171415=Math[_0x2f456d(0x126)](_0x111eb7*_0x111eb7+_0x22fff7*_0x22fff7);_0x171415<=blueDistance?(_0x57f912['state']='near_player',_0x57f912['x']+=_0x111eb7/_0x171415*_0x57f912['speed']*_0x7165a3,_0x57f912['y']+=_0x22fff7/_0x171415*_0x57f912[_0x2f456d(0x1c5)]*_0x7165a3):(_0x57f912[_0x2f456d(0x1f8)]=_0x2f456d(0x1f4),_0x57f912['y']+=_0x57f912[_0x2f456d(0x1c5)]*_0x7165a3);break;case'stunned':_0x57f912['stateTimer']-=_0x7165a3;_0x57f912[_0x2f456d(0x12a)]<=0x0&&(_0x57f912[_0x2f456d(0x1f8)]='normal',_0x57f912[_0x2f456d(0x1c5)]=0x64);break;case _0x2f456d(0x1f0):_0x57f912['y']-=0x6a4*_0x7165a3,_0x57f912[_0x2f456d(0x12a)]-=_0x7165a3;_0x57f912[_0x2f456d(0x12a)]<=0x0&&(_0x57f912[_0x2f456d(0x1f8)]='normal');break;}_0x57f912[_0x2f456d(0x174)]<=0x0&&createExpOrbIfNeeded(_0x57f912),(_0x57f912['y']>canvas[_0x2f456d(0x1dc)]||_0x57f912['y']<0x0||_0x57f912['x']<0x0||_0x57f912['x']>canvas['width'])&&(_0x57f912[_0x2f456d(0x12d)]=!![]),createExpOrbIfNeeded(_0x57f912);}}),enemies=enemies['filter'](_0x26ccf9=>!_0x26ccf9['toRemove']);}function updateBullets(_0x52f38b){const _0x3f29f1=_0x3f6431;bullets[_0x3f29f1(0x16f)](_0x1126fd=>{const _0x1e91af=_0x3f29f1;if(_0x1126fd['type']==='midori'){const _0x47a059=findClosestEnemy(_0x1126fd['x'],_0x1126fd['y']);if(_0x47a059){const _0x583b4c=_0x47a059['x']-_0x1126fd['x'],_0x4b4c38=_0x47a059['y']-_0x1126fd['y'],_0x32cc9c=Math[_0x1e91af(0x11d)](_0x4b4c38,_0x583b4c);_0x1126fd[_0x1e91af(0x123)]=_0x32cc9c;}}_0x1126fd['x']+=Math['cos'](_0x1126fd[_0x1e91af(0x123)])*_0x1126fd['speed']*_0x52f38b,_0x1126fd['y']+=Math[_0x1e91af(0x1b9)](_0x1126fd['angle'])*_0x1126fd[_0x1e91af(0x1c5)]*_0x52f38b;}),bullets=bullets[_0x3f29f1(0x1c9)](_0x31db72=>_0x31db72['x']>0x0&&_0x31db72['x']<canvas[_0x3f29f1(0xf7)]&&_0x31db72['y']>0x0&&_0x31db72['y']<canvas['height']);}function updateEffects(_0x44abf6,_0xe67f57){const _0x2092a6=_0x3f6431;let _0x4dfb69=![];effects=effects[_0x2092a6(0x1c9)](_0x2d5222=>_0x44abf6-_0x2d5222[_0x2092a6(0x184)]<_0x2d5222['duration']),effects['forEach'](_0x1b6b5d=>{const _0x42553c=_0x2092a6;!_0x1b6b5d['hitEnemies']&&(_0x1b6b5d['hitEnemies']=new Set());(_0x1b6b5d[_0x42553c(0x10f)]==='fan'||_0x1b6b5d[_0x42553c(0x10f)]===_0x42553c(0x16d))&&enemies[_0x42553c(0x16f)](_0x263d52=>{const _0x2047a2=_0x42553c;if(_0x263d52['type']===_0x2047a2(0x15b)&&!_0x263d52[_0x2047a2(0x12d)]&&!_0x1b6b5d[_0x2047a2(0x10d)]['has'](_0x263d52['id'])){const _0x2cbd4c=_0x263d52['x']-_0x1b6b5d['x'],_0x270f46=_0x263d52['y']-_0x1b6b5d['y'],_0x5261c1=Math['sqrt'](_0x2cbd4c*_0x2cbd4c+_0x270f46*_0x270f46);let _0x4aecbf=![];if(_0x1b6b5d[_0x2047a2(0x10f)]==='fan'){const _0x52f65d=Math[_0x2047a2(0x11d)](_0x270f46,_0x2cbd4c);_0x4aecbf=_0x5261c1<=_0x1b6b5d['radius']&&_0x52f65d>=-Math['PI']/0x2-_0x1b6b5d[_0x2047a2(0x123)]/0x2&&_0x52f65d<=-Math['PI']/0x2+_0x1b6b5d[_0x2047a2(0x123)]/0x2;}else _0x1b6b5d[_0x2047a2(0x10f)]===_0x2047a2(0x16d)&&(_0x4aecbf=_0x5261c1<=_0x1b6b5d[_0x2047a2(0x1db)]);_0x4aecbf&&(_0x263d52['health']-=_0x1b6b5d[_0x2047a2(0x19f)],_0x1b6b5d[_0x2047a2(0x10d)][_0x2047a2(0x1ae)](_0x263d52['id']),createExpOrbIfNeeded(_0x263d52),_0x1b6b5d['cc']===_0x2047a2(0x1f0)&&(_0x263d52[_0x2047a2(0x1f8)]=_0x2047a2(0x1f0),_0x263d52['stateTimer']=0.1));}});if(_0x1b6b5d['type']==='miku_live'){const _0x19b2cd=player['x']-_0x1b6b5d['x'],_0x56a380=player['y']-_0x1b6b5d['y'],_0x319cdd=Math[_0x42553c(0x126)](_0x19b2cd*_0x19b2cd+_0x56a380*_0x56a380);_0x319cdd<=_0x1b6b5d[_0x42553c(0x1db)]&&(_0x4dfb69=!![]);}_0x1b6b5d['type']==='fan'&&(_0x1b6b5d['x']=player['x'],_0x1b6b5d['y']=player['y']);}),playerAttack=_0x4dfb69?basePlayerAttack*0x27:basePlayerAttack;}function checkCollisions(){const _0x2a0e3f=_0x3f6431;enemies[_0x2a0e3f(0x16f)](_0x23bfe3=>{const _0x40eded=_0x2a0e3f;bullets['forEach'](_0x5acac5=>{const _0x3ebd78=_0x3dad;checkCollision(_0x23bfe3,_0x5acac5)&&(_0x23bfe3['health']-=_0x5acac5[_0x3ebd78(0x10f)]==='midori'?_0x5acac5[_0x3ebd78(0x19f)]:playerAttack,_0x5acac5[_0x3ebd78(0x12d)]=!![],createExpOrbIfNeeded(_0x23bfe3));}),checkCollision(_0x23bfe3,player)&&!player[_0x40eded(0x122)]&&(playerHealth--,player[_0x40eded(0x122)]=!![],setTimeout(()=>{const _0x2729ca=_0x40eded;player[_0x2729ca(0x122)]=![];},0x3e8),flashPlayer());}),bullets=bullets[_0x2a0e3f(0x1c9)](_0x20310c=>!_0x20310c[_0x2a0e3f(0x12d)]),enemies=enemies[_0x2a0e3f(0x1c9)](_0x4f8f37=>!_0x4f8f37[_0x2a0e3f(0x12d)]),playerHealth<=0x0&&gameOver();}function updateExpOrbs(_0xba5651){const _0x100fc7=_0x3f6431;expOrbs[_0x100fc7(0x16f)](_0x2530cd=>{const _0xddf026=_0x100fc7,_0x3c46e3=player['x']-_0x2530cd['x'],_0x144f8b=player['y']-_0x2530cd['y'],_0x4a65a5=Math[_0xddf026(0x126)](_0x3c46e3*_0x3c46e3+_0x144f8b*_0x144f8b);_0x4a65a5<=blueDistance/0x2&&(_0x2530cd['x']+=_0x3c46e3/_0x4a65a5*_0x2530cd[_0xddf026(0x1c5)]*_0xba5651,_0x2530cd['y']+=_0x144f8b/_0x4a65a5*_0x2530cd['speed']*_0xba5651),checkCollision(player,_0x2530cd)&&(exp++,_0x2530cd[_0xddf026(0x12d)]=!![]),(_0x2530cd['y']>canvas[_0xddf026(0x1dc)]||_0x2530cd['y']<0x0||_0x2530cd['x']<0x0||_0x2530cd['x']>canvas[_0xddf026(0xf7)])&&(_0x2530cd[_0xddf026(0x12d)]=!![]);}),expOrbs=expOrbs['filter'](_0x5c6ef5=>!_0x5c6ef5[_0x100fc7(0x12d)]);}function updateExp(){const _0x2b0a07=_0x3f6431;exp>=expToLevelUp&&(level++,exp-=expToLevelUp,expToLevelUp=level>=0x14?0x28:0x14,showItemSelection()),exp>=expToLevelUp&&console[_0x2b0a07(0x1d9)](_0x2b0a07(0x161));}function renderExpBar(){const _0x16deef=_0x3f6431,_0x4d0ed2=0x12c,_0x2a4094=0x1e,_0x5df0ba=(canvas[_0x16deef(0xf7)]-_0x4d0ed2)/0x2,_0x456980=canvas[_0x16deef(0x1dc)]-_0x2a4094-0xa,_0x1824bd=0xa,_0x1541cf=(_0x4d0ed2-0x12)/_0x1824bd,_0x5d0b08=0.1,_0x443e30=0x2;ctx['fillStyle']=_0x16deef(0x193),ctx[_0x16deef(0x194)]=_0x16deef(0x170),ctx[_0x16deef(0x192)]=_0x16deef(0x11b),ctx['fillText']('Lv'+level,_0x5df0ba-0xa,_0x456980),ctx[_0x16deef(0x1f2)](),ctx[_0x16deef(0xf6)](_0x5df0ba,_0x456980),ctx['transform'](0x1,0x0,-_0x5d0b08,0x1,0x0,0x0);const _0x417dc9=exp/expToLevelUp*_0x1824bd;for(let _0x59a82b=0x0;_0x59a82b<_0x1824bd;_0x59a82b++){const _0xb89d25=_0x59a82b*(_0x1541cf+0x2);ctx[_0x16deef(0x19c)]=_0x59a82b<Math[_0x16deef(0x15d)](_0x417dc9)?'#87CEFA':_0x16deef(0x1ad),ctx[_0x16deef(0x12e)](),ctx['moveTo'](_0xb89d25+_0x443e30,0x0),ctx[_0x16deef(0x1ba)](_0xb89d25+_0x1541cf-_0x443e30,0x0),ctx['quadraticCurveTo'](_0xb89d25+_0x1541cf,0x0,_0xb89d25+_0x1541cf,_0x443e30),ctx['lineTo'](_0xb89d25+_0x1541cf-_0x2a4094*_0x5d0b08,_0x2a4094-_0x443e30),ctx[_0x16deef(0x18f)](_0xb89d25+_0x1541cf-_0x2a4094*_0x5d0b08,_0x2a4094,_0xb89d25+_0x1541cf-_0x2a4094*_0x5d0b08-_0x443e30,_0x2a4094),ctx['lineTo'](_0xb89d25-_0x2a4094*_0x5d0b08+_0x443e30,_0x2a4094),ctx[_0x16deef(0x18f)](_0xb89d25-_0x2a4094*_0x5d0b08,_0x2a4094,_0xb89d25-_0x2a4094*_0x5d0b08,_0x2a4094-_0x443e30),ctx['lineTo'](_0xb89d25,_0x443e30),ctx[_0x16deef(0x18f)](_0xb89d25,0x0,_0xb89d25+_0x443e30,0x0),ctx[_0x16deef(0xf8)]();if(_0x59a82b===Math[_0x16deef(0x15d)](_0x417dc9)&&_0x417dc9%0x1!==0x0){const _0x16c51c=_0x417dc9%0x1*_0x1541cf;ctx[_0x16deef(0x19c)]=_0x16deef(0x11a),ctx[_0x16deef(0x12e)](),ctx[_0x16deef(0x1d1)](_0xb89d25,0x0),ctx[_0x16deef(0x1ba)](_0xb89d25+_0x16c51c,0x0),ctx[_0x16deef(0x1ba)](_0xb89d25+_0x16c51c-_0x2a4094*_0x5d0b08,_0x2a4094),ctx[_0x16deef(0x1ba)](_0xb89d25-_0x2a4094*_0x5d0b08,_0x2a4094),ctx['closePath'](),ctx[_0x16deef(0xf8)]();}}ctx[_0x16deef(0x1e3)]();}function renderItemIcons(){const _0x4da251=_0x3f6431,_0x14c9d0=0x48,_0x13b4d5=0x8,_0x2a6185=canvas[_0x4da251(0xf7)]-_0x14c9d0-_0x13b4d5,_0x29a106=canvas['height']-_0x14c9d0-_0x13b4d5,_0x482a00=0.1,_0x504753=0x5;items[_0x4da251(0x16f)]((_0x2d1be0,_0x2aee09)=>{const _0x587e68=_0x4da251,_0x3cb501=_0x2a6185,_0x5aa9d8=_0x29a106-(_0x14c9d0+_0x13b4d5)*_0x2aee09;ctx[_0x587e68(0x1f2)](),ctx[_0x587e68(0xf6)](_0x3cb501,_0x5aa9d8),ctx[_0x587e68(0x148)](0x1,0x0,-_0x482a00,0x1,0x0,0x0);const _0xa67c6d=ctx[_0x587e68(0x110)](0x0,0x0,0x0,_0x14c9d0);_0xa67c6d[_0x587e68(0x113)](0x0,_0x587e68(0x11f)),_0xa67c6d[_0x587e68(0x113)](0x1,_0x587e68(0x12f)),ctx[_0x587e68(0x19c)]=_0xa67c6d,ctx[_0x587e68(0x12e)](),ctx['moveTo'](_0x504753,0x0),ctx[_0x587e68(0x1ba)](_0x14c9d0-_0x504753,0x0),ctx['quadraticCurveTo'](_0x14c9d0,0x0,_0x14c9d0,_0x504753),ctx['lineTo'](_0x14c9d0-_0x14c9d0*_0x482a00,_0x14c9d0-_0x504753),ctx['quadraticCurveTo'](_0x14c9d0-_0x14c9d0*_0x482a00,_0x14c9d0,_0x14c9d0-_0x14c9d0*_0x482a00-_0x504753,_0x14c9d0),ctx[_0x587e68(0x1ba)](_0x504753-_0x14c9d0*_0x482a00,_0x14c9d0),ctx[_0x587e68(0x18f)](-_0x14c9d0*_0x482a00,_0x14c9d0,-_0x14c9d0*_0x482a00,_0x14c9d0-_0x504753),ctx['lineTo'](0x0,_0x504753),ctx[_0x587e68(0x18f)](0x0,0x0,_0x504753,0x0),ctx[_0x587e68(0xf8)](),ctx['strokeStyle']='white',ctx[_0x587e68(0x1e1)]=0x3,ctx['stroke'](),ctx[_0x587e68(0x1e3)](),images[_0x2d1be0[_0x587e68(0x149)]]?(ctx[_0x587e68(0x1f2)](),ctx[_0x587e68(0x12e)](),ctx[_0x587e68(0x1d1)](_0x3cb501+_0x504753,_0x5aa9d8),ctx[_0x587e68(0x1ba)](_0x3cb501+_0x14c9d0-_0x504753,_0x5aa9d8),ctx[_0x587e68(0x18f)](_0x3cb501+_0x14c9d0,_0x5aa9d8,_0x3cb501+_0x14c9d0,_0x5aa9d8+_0x504753),ctx['lineTo'](_0x3cb501+_0x14c9d0,_0x5aa9d8+_0x14c9d0-_0x504753),ctx['quadraticCurveTo'](_0x3cb501+_0x14c9d0,_0x5aa9d8+_0x14c9d0,_0x3cb501+_0x14c9d0-_0x504753,_0x5aa9d8+_0x14c9d0),ctx[_0x587e68(0x1ba)](_0x3cb501+_0x504753,_0x5aa9d8+_0x14c9d0),ctx['quadraticCurveTo'](_0x3cb501,_0x5aa9d8+_0x14c9d0,_0x3cb501,_0x5aa9d8+_0x14c9d0-_0x504753),ctx[_0x587e68(0x1ba)](_0x3cb501,_0x5aa9d8+_0x504753),ctx[_0x587e68(0x18f)](_0x3cb501,_0x5aa9d8,_0x3cb501+_0x504753,_0x5aa9d8),ctx[_0x587e68(0x1fe)](),ctx['clip'](),ctx[_0x587e68(0x1e2)](images[_0x2d1be0['iconImage']],_0x3cb501,_0x5aa9d8,_0x14c9d0,_0x14c9d0),ctx['restore']()):(ctx[_0x587e68(0x19c)]=_0x587e68(0x160),ctx['font']='32px\x20Arial',ctx[_0x587e68(0x192)]=_0x587e68(0x1bd),ctx['textBaseline']=_0x587e68(0xfc),ctx['fillText'](_0x2d1be0[_0x587e68(0x114)]['slice'](0x0,0x2),_0x3cb501+_0x14c9d0/0x2,_0x5aa9d8+_0x14c9d0/0x2)),ctx['fillStyle']=_0x587e68(0x12f),ctx['beginPath'](),ctx['arc'](_0x3cb501+0xd,_0x5aa9d8+0xd,0x11,0x0,Math['PI']*0x2),ctx['fill'](),ctx[_0x587e68(0x14f)]='rgba(255,\x20255,\x20255,\x200.7)',ctx[_0x587e68(0x1e1)]=0x2,ctx[_0x587e68(0x1c7)](),ctx[_0x587e68(0x19c)]='white',ctx[_0x587e68(0x194)]=_0x587e68(0x1b6),ctx[_0x587e68(0x192)]=_0x587e68(0x1bd),ctx[_0x587e68(0x166)]=_0x587e68(0xfc),ctx['fillText'](_0x2d1be0[_0x587e68(0x128)][_0x587e68(0x1bf)](),_0x3cb501+0xd,_0x5aa9d8+0xd);});}function render(){const _0x2de7de=_0x3f6431;ctx[_0x2de7de(0x136)](0x0,0x0,canvas[_0x2de7de(0xf7)],canvas[_0x2de7de(0x1dc)]),ctx['fillStyle']=_0x2de7de(0x1d2),ctx[_0x2de7de(0x18d)](0x0,0x0,canvas['width'],canvas[_0x2de7de(0x1dc)]),expOrbs[_0x2de7de(0x16f)](_0x205d97=>{const _0xf58241=_0x2de7de;images[_0xf58241(0x151)]?ctx[_0xf58241(0x1e2)](images[_0xf58241(0x151)],_0x205d97['x']-_0x205d97[_0xf58241(0xf7)]/0x2,_0x205d97['y']-_0x205d97[_0xf58241(0x1dc)]/0x2,_0x205d97['width'],_0x205d97['height']):(ctx[_0xf58241(0x19c)]='blue',ctx[_0xf58241(0x18d)](_0x205d97['x']-_0x205d97['width']/0x2,_0x205d97['y']-_0x205d97['height']/0x2,_0x205d97[_0xf58241(0xf7)],_0x205d97['height']));});player['visible']&&(ctx['fillStyle']='#00ff00',ctx[_0x2de7de(0x18d)](player['x']-player[_0x2de7de(0xf7)]/0x2,player['y']-player[_0x2de7de(0x1dc)]/0x2,player['width'],player['height']));enemies[_0x2de7de(0x16f)](_0x271f51=>{const _0x1c4533=_0x2de7de;ctx[_0x1c4533(0x19c)]=_0x271f51[_0x1c4533(0x10f)]===_0x1c4533(0x15b)?'#ff0000':_0x1c4533(0x117),ctx[_0x1c4533(0x18d)](_0x271f51['x']-_0x271f51[_0x1c4533(0xf7)]/0x2,_0x271f51['y']-_0x271f51[_0x1c4533(0x1dc)]/0x2,_0x271f51[_0x1c4533(0xf7)],_0x271f51['height']),ctx[_0x1c4533(0x19c)]='black',ctx[_0x1c4533(0x194)]='15px\x20Arial',ctx[_0x1c4533(0x192)]=_0x1c4533(0x1bd),ctx[_0x1c4533(0x185)](_0x271f51[_0x1c4533(0x174)][_0x1c4533(0x134)](0x0),_0x271f51['x'],_0x271f51['y']-_0x271f51['height']/0x2-0x9);}),bullets['forEach'](_0x5b6ff6=>{const _0x375a3c=_0x2de7de;if(_0x5b6ff6[_0x375a3c(0x10f)]===_0x375a3c(0x181))ctx[_0x375a3c(0x19c)]=_0x375a3c(0x124);else _0x5b6ff6['type']===_0x375a3c(0x147)?ctx[_0x375a3c(0x19c)]=_0x375a3c(0x17b):ctx[_0x375a3c(0x19c)]='#ffff00';ctx[_0x375a3c(0x12e)](),ctx[_0x375a3c(0x11c)](_0x5b6ff6['x'],_0x5b6ff6['y'],_0x5b6ff6[_0x375a3c(0xf7)]/0x2,_0x5b6ff6[_0x375a3c(0x1dc)]/0x2,0x0,0x0,Math['PI']*0x2),ctx['fill']();}),effects[_0x2de7de(0x16f)](_0x50609f=>{const _0x2b52a4=_0x2de7de;_0x50609f[_0x2b52a4(0x10f)]===_0x2b52a4(0x131)&&(ctx[_0x2b52a4(0x19c)]=_0x2b52a4(0x1a1),ctx[_0x2b52a4(0x12e)](),ctx['arc'](_0x50609f['x'],_0x50609f['y'],_0x50609f['radius'],0x0,Math['PI']*0x2),ctx[_0x2b52a4(0xf8)]());ctx[_0x2b52a4(0x19c)]=_0x2b52a4(0x19d);if(_0x50609f[_0x2b52a4(0x10f)]===_0x2b52a4(0x13e))ctx[_0x2b52a4(0x12e)](),ctx[_0x2b52a4(0x1d1)](_0x50609f['x'],_0x50609f['y']),ctx[_0x2b52a4(0x197)](_0x50609f['x'],_0x50609f['y'],_0x50609f[_0x2b52a4(0x1db)],-Math['PI']/0x2-_0x50609f['angle']/0x2,-Math['PI']/0x2+_0x50609f['angle']/0x2),ctx[_0x2b52a4(0x1fe)](),ctx[_0x2b52a4(0xf8)]();else _0x50609f[_0x2b52a4(0x10f)]===_0x2b52a4(0x16d)&&(ctx[_0x2b52a4(0x12e)](),ctx[_0x2b52a4(0x197)](_0x50609f['x'],_0x50609f['y'],_0x50609f['radius'],0x0,Math['PI']*0x2),ctx[_0x2b52a4(0xf8)]());}),ctx['fillStyle']=_0x2de7de(0x193),ctx[_0x2de7de(0x194)]=_0x2de7de(0x178),ctx['textAlign']=_0x2de7de(0x1bd),ctx[_0x2de7de(0x166)]='top',ctx[_0x2de7de(0x185)]('점수:\x20'+calculateScore(),canvas[_0x2de7de(0xf7)]/0x2,0xa),renderExpBar(),renderItemIcons(),renderHealth();const _0x427a53=0x12c,_0x4e6072=(canvas[_0x2de7de(0xf7)]+_0x427a53)/0x2+0xa,_0x443363=canvas[_0x2de7de(0x1dc)]-0x28;ctx[_0x2de7de(0x19c)]=_0x2de7de(0x193),ctx['font']=_0x2de7de(0x1f5),ctx[_0x2de7de(0x192)]='left',ctx[_0x2de7de(0x185)]('공격력:\x20'+playerAttack[_0x2de7de(0x134)](0x0),_0x4e6072,_0x443363),ctx[_0x2de7de(0x185)](_0x2de7de(0x176)+playerAttackSpeed[_0x2de7de(0x134)](0x0),_0x4e6072,_0x443363+0x10);}function renderHealth(){const _0x51a630=_0x3f6431;ctx[_0x51a630(0x194)]='30px\x20Arial',ctx[_0x51a630(0x192)]=_0x51a630(0x127),ctx[_0x51a630(0x185)]('❤️'[_0x51a630(0x12c)](playerHealth),0xa,0x28);}function checkCollision(_0x1b4d4b,_0x2b9401){const _0xe94b24=_0x3f6431;return _0x1b4d4b['x']<_0x2b9401['x']+_0x2b9401['width']&&_0x1b4d4b['x']+_0x1b4d4b['width']>_0x2b9401['x']&&_0x1b4d4b['y']<_0x2b9401['y']+_0x2b9401['height']&&_0x1b4d4b['y']+_0x1b4d4b[_0xe94b24(0x1dc)]>_0x2b9401['y'];}function handleKeyDown(_0x5506a3){const _0x2694af=_0x3f6431;keys[_0x5506a3[_0x2694af(0x1d3)]]=!![];}function handleKeyUp(_0x1661f0){const _0x48addf=_0x3f6431;keys[_0x1661f0[_0x48addf(0x1d3)]]=![];}function gameOver(){const _0x292bfb=_0x3f6431;gameState=_0x292bfb(0x13c),document[_0x292bfb(0x201)](_0x292bfb(0x169))[_0x292bfb(0x1fd)]['display']=_0x292bfb(0x195),document[_0x292bfb(0x201)](_0x292bfb(0x101))[_0x292bfb(0x1fd)]['display']='flex',document[_0x292bfb(0x201)](_0x292bfb(0x101))[_0x292bfb(0x1fd)][_0x292bfb(0x1f9)]=_0x292bfb(0x125),document[_0x292bfb(0x201)]('game-over-screen')['style'][_0x292bfb(0x16e)]=_0x292bfb(0x1bd),document['getElementById'](_0x292bfb(0x101))['style'][_0x292bfb(0x19b)]=_0x292bfb(0x1bd),document['getElementById'](_0x292bfb(0x10a))[_0x292bfb(0x190)]='점수:\x20'+calculateScore()+'원';}function submitScore(){const _0x37c95d=_0x3f6431,_0x1b4e48=document[_0x37c95d(0x201)](_0x37c95d(0x111))[_0x37c95d(0x1fb)],_0x526f2c=calculateScore();let _0x24d53a=JSON[_0x37c95d(0x155)](localStorage[_0x37c95d(0x1d0)](_0x37c95d(0x164)))||[];_0x24d53a['push']({'nickname':_0x1b4e48,'score':_0x526f2c}),_0x24d53a[_0x37c95d(0x1b1)]((_0x5e49bc,_0x64290a)=>_0x64290a[_0x37c95d(0x1ea)]-_0x5e49bc[_0x37c95d(0x1ea)]),_0x24d53a=_0x24d53a[_0x37c95d(0x1e5)](0x0,0xf),localStorage[_0x37c95d(0x1bb)](_0x37c95d(0x164),JSON[_0x37c95d(0x1a4)](_0x24d53a)),loadRankings(),resetGame();}function resetGame(){const _0x194042=_0x3f6431;gameState='start',document['getElementById'](_0x194042(0x101))[_0x194042(0x1fd)]['display']=_0x194042(0x195),document[_0x194042(0x201)](_0x194042(0x1d4))[_0x194042(0x1fd)][_0x194042(0x13b)]=_0x194042(0x1a8),document[_0x194042(0x201)](_0x194042(0x1d4))[_0x194042(0x1fd)][_0x194042(0x1f9)]=_0x194042(0x125),document[_0x194042(0x201)]('start-screen')[_0x194042(0x1fd)][_0x194042(0x19b)]=_0x194042(0x1bd),document[_0x194042(0x201)](_0x194042(0x1d4))[_0x194042(0x1fd)][_0x194042(0x16e)]=_0x194042(0x1bd),playerHealth=0x3,playerAttack=0x1,basePlayerAttack=0x1,level=0x1,exp=0x0,enemies=[],bullets=[],expOrbs=[],effects=[],spawnCooldown=initialSpawnCooldown,weakEnemyBaseHealth=0x3,resetPlayerPosition(),updateExp(),items[_0x194042(0x16f)](_0x16e311=>{const _0x34647a=_0x194042;_0x16e311[_0x34647a(0x191)]&&clearInterval(_0x16e311[_0x34647a(0x191)]);}),items=[],itemDefinitions[_0x194042(0x16f)](_0x550ed8=>{const _0x558b7a=_0x194042;_0x550ed8[_0x558b7a(0x128)]=0x1,updateItemDescription(_0x550ed8);}),resetPlayerPosition(),updateExp();}function showItemSelection(){const _0x1c55c9=_0x3f6431;gameState=_0x1c55c9(0x16c);const _0xa4d866=document['getElementById']('item-selection');_0xa4d866[_0x1c55c9(0x1fd)][_0x1c55c9(0x13b)]=_0x1c55c9(0x1a8),_0xa4d866[_0x1c55c9(0x1be)]='';const _0x9d0e8c=selectRandomItems(0x3);_0x9d0e8c[_0x1c55c9(0x16f)](_0x25aa9a=>{const _0x2ba445=_0x1c55c9;updateItemDescription(_0x25aa9a);const _0x350591=createItemCard(_0x25aa9a);_0x350591[_0x2ba445(0x1b5)](_0x2ba445(0x116),()=>selectItem(_0x25aa9a)),_0xa4d866[_0x2ba445(0x1cf)](_0x350591);});}function selectRandomItems(_0x3c7a81){const _0x46ad7a=_0x3f6431,_0xf83b09=itemDefinitions[_0x46ad7a(0x1f1)](_0x465ba0=>{const _0x39a768=_0x46ad7a,_0x3c1e86=items['find'](_0x381c1c=>_0x381c1c[_0x39a768(0x114)]===_0x465ba0[_0x39a768(0x114)]);if(_0x3c1e86)return{..._0x465ba0,'enhancementLevel':_0x3c1e86[_0x39a768(0x128)]};return{..._0x465ba0,'enhancementLevel':0x0};})[_0x46ad7a(0x1c9)](_0x3f3ac2=>{const _0x295fed=_0x46ad7a;return _0x3f3ac2[_0x295fed(0x128)]<_0x3f3ac2[_0x295fed(0x1c3)];}),_0x17eedc=[];for(let _0x11c079=0x0;_0x11c079<_0x3c7a81;_0x11c079++){if(_0xf83b09[_0x46ad7a(0x180)]===0x0)break;const _0x5906a5=Math[_0x46ad7a(0x138)]();let _0x5b3eba;if(_0x5906a5<0.65)_0x5b3eba='일반';else{if(_0x5906a5<0.85)_0x5b3eba='희귀';else{if(_0x5906a5<0.95)_0x5b3eba='영웅';else _0x5b3eba='전설';}}const _0x4847dd=_0xf83b09[_0x46ad7a(0x1c9)](_0x5a9d19=>_0x5a9d19['rarity']===_0x5b3eba);if(_0x4847dd['length']>0x0){const _0x20a442=Math[_0x46ad7a(0x15d)](Math[_0x46ad7a(0x138)]()*_0x4847dd[_0x46ad7a(0x180)]),_0x133b81=_0x4847dd[_0x20a442];_0x17eedc[_0x46ad7a(0x18e)](_0x133b81);const _0x115a7f=_0xf83b09[_0x46ad7a(0x121)](_0x133b81);if(_0x115a7f>-0x1)_0xf83b09[_0x46ad7a(0x1aa)](_0x115a7f,0x1);}}while(_0x17eedc[_0x46ad7a(0x180)]<_0x3c7a81){_0x17eedc['push'](specialItem);}return _0x17eedc;}function _0x23a2(){const _0x29a9b1=['#333333','add','hmk2.png','mmi2.gif','sort','의\x20강화\x20레벨이\x20이미\x20최대입니다.','resize','toLowerCase','addEventListener','bold\x2020px\x20Arial','now','container','sin','lineTo','setItem','kkk1.png','center','innerHTML','toString','ayn2.png','active','start','maxEnhancementLevel','ranking-body','speed','884264EELtYo','stroke','모모이!!','filter','hmk1.png','boss','Error\x20loading\x20image\x20','touchstart','미도리가\x207초마다\x20가장\x20가까운\x20적\x205명을\x20공격합니다(공격력\x20{value}\x20->\x20{value2}%)','appendChild','getItem','moveTo','#CFFFE5','key','start-screen','div','pow','rgba(255,\x20255,\x20255,\x200.5)','item-card\x20','log','touchAction','radius','height','호시노가\x208초마다\x20전방의\x20적을\x20넉백시킵니다(공격력\x20{value}\x20->\x20{value2}%)','images/','ayn1.png','getBoundingClientRect','lineWidth','drawImage','restore','block','slice','joystick-stick','school','Invalid\x20item\x20or\x20getDescription\x20is\x20not\x20a\x20function','translate(0px,\x200px)','score','25px','className','\x22\x20alt=\x22','Images\x20loaded\x20successfully','18wopNOW','knockback','map','save','게마트리아','normal','14px\x20Arial','setTransform','설명을\x20불러올\x20수\x20없습니다.','state','flexDirection','insertRow','value','bottom','style','closePath','position','getContext','getElementById','translate','width','fill','50px','rgba(0,\x200,\x200,\x200.8)','visible','middle','mmi1.png','호시노의\x20전술진압','공격해\x20노노미!','4559460RORzwR','game-over-screen','kr1.png','innerHeight','kr2.png','kkk2.png','ArrowDown','모모이가\x204초마다\x20전방\x20좁은\x20영역을\x20공격합니다\x20(공격력\x20{value}\x20->\x20{value2}%)','아야네의\x20드론지원','game-canvas','final-score','max','createElement','hitEnemies','effect','type','createLinearGradient','nickname-input','세리카가\x205초마다\x20무작위\x20지역에\x20원형으로\x20지원공격을\x20합니다(공격력\x20{value}\x20->\x20{value2}%)','addColorStop','name','9938460fnEIbr','click','#ff00ff','touchend','유즈\x20자유이용권','#87CEFA','right','ellipse','atan2','43ErPQXy','#4169E1','nickname','indexOf','invincible','angle','green','column','sqrt','left','enhancementLevel','srk2.png','stateTimer','hsn2.png','repeat','toRemove','beginPath','#000080','시로코의\x20월척','miku_live','시로코가\x203초마다\x20낚시로\x20경험치를\x20{value}\x20->\x20{value2}\x20획득합니다','{value}','toFixed','20px','clearRect','아야네의\x20드론지원\x20발동:\x20체력\x20+','random','userAgent','px)','display','over','3984303pTccVj','fan','14AzlZgQ','nnm1.png','absolute','\x22\x20class=\x22item-image\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-description\x22>','시로코의\x20월척\x20발동:\x20경험치\x20+','borderRadius','innerWidth','item-selection','nonomi','transform','iconImage','미쿠의\x20라이브가\x20{value}\x20->\x20{value2}초마다\x20맵\x20중앙에서\x20모든\x20공격력을\x20390%로\x20강화합니다','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-title\x22>','find','replace','cos','strokeStyle','5047144WOCYMI','exp3.png','lastShot','onerror','src','parse','ArrowLeft','touches','모든\x20학교','ArrowUp','54988usKZnx','weak','duration','floor','keydown','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-school\x22>','white','Level\x20Up!','hsn1.png','submit-score','rankings','uz2.png','textBaseline','stick','top','game-screen','아야네가\x2030초마다\x20치유\x20드론으로\x20체력을\x20{value}\x20->\x20{value2}\x20회복시킵니다(최대\x205)','description','paused','circle','alignItems','forEach','bold\x2032px\x20Arial','mdr1.png','function','50%','health','joystick-container','공격속도:\x20','100px','20px\x20Arial','3514578RkQtpC','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-rarity\x22>','yellow','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22images/','keyup','expOrbCreated','translate(','length','midori','min','밀레니엄','startTime','fillText','cardImage','nnm2.png','error','mdr2.png','game-container','near_player','onload','fillRect','push','quadraticCurveTo','textContent','intervalId','textAlign','black','font','none','clientX','arc','activeEffect','rarity','getDescription','justifyContent','fillStyle','rgba(255,\x20165,\x200,\x200.3)','ArrowRight','damage','playing','rgba(0,\x20255,\x20255,\x200.2)','background','검은양복의\x20선물','stringify','baseDescription','{value2}','Error\x20loading\x20images:','flex','아비도스','splice','test','uz1.png'];_0x23a2=function(){return _0x29a9b1;};return _0x23a2();}function updateItemDescription(_0x49ffb5){const _0xbeeb7a=_0x3f6431;if(_0x49ffb5&&typeof _0x49ffb5[_0xbeeb7a(0x19a)]===_0xbeeb7a(0x172))try{_0x49ffb5[_0xbeeb7a(0x16b)]=_0x49ffb5[_0xbeeb7a(0x19a)]();}catch(_0x1ec6d7){console[_0xbeeb7a(0x188)]('Error\x20updating\x20description\x20for\x20'+_0x49ffb5[_0xbeeb7a(0x114)]+':',_0x1ec6d7),_0x49ffb5['description']=_0xbeeb7a(0x1f7);}else console[_0xbeeb7a(0x188)](_0xbeeb7a(0x1e8),_0x49ffb5),_0x49ffb5&&(_0x49ffb5[_0xbeeb7a(0x16b)]=_0x49ffb5[_0xbeeb7a(0x1a5)]||_0xbeeb7a(0x1f7));}function createItemCard(_0x4953be){const _0x58a26d=_0x3f6431,_0x478d32=document[_0x58a26d(0x10c)](_0x58a26d(0x1d5));return _0x478d32[_0x58a26d(0x1ec)]=_0x58a26d(0x1d8)+_0x4953be[_0x58a26d(0x199)][_0x58a26d(0x1b4)](),_0x478d32[_0x58a26d(0x1be)]=_0x58a26d(0x17a)+_0x4953be[_0x58a26d(0x199)]+_0x58a26d(0x14b)+_0x4953be[_0x58a26d(0x114)]+_0x58a26d(0x15f)+_0x4953be[_0x58a26d(0x1e7)]+_0x58a26d(0x17c)+_0x4953be[_0x58a26d(0x186)]+_0x58a26d(0x1ed)+_0x4953be[_0x58a26d(0x114)]+_0x58a26d(0x142)+_0x4953be[_0x58a26d(0x16b)]+'</div>\x0a\x20\x20\x20\x20',_0x478d32;}function selectItem(_0xca705e){const _0x4fea38=_0x3f6431;if(_0xca705e['name']===_0x4fea38(0x1a3)){let _0x50e5e0=items['find'](_0x10fbca=>_0x10fbca[_0x4fea38(0x114)]===_0xca705e[_0x4fea38(0x114)]);_0x50e5e0?_0x50e5e0[_0x4fea38(0x128)]++:(_0x50e5e0={..._0xca705e,'enhancementLevel':0x1},items[_0x4fea38(0x18e)](_0x50e5e0)),updateItemDescription(_0x50e5e0),typeof _0x50e5e0['effect']===_0x4fea38(0x172)&&_0x50e5e0['effect']();}else{let _0x3285ed=items[_0x4fea38(0x14c)](_0x36b8f1=>_0x36b8f1[_0x4fea38(0x114)]===_0xca705e['name']);if(_0x3285ed){if(_0x3285ed['maxEnhancementLevel']===Infinity||_0x3285ed[_0x4fea38(0x128)]<_0x3285ed[_0x4fea38(0x1c3)]){_0x3285ed[_0x4fea38(0x128)]++;if(typeof _0x3285ed[_0x4fea38(0x10e)]==='function'){const _0x2d5072=_0x3285ed[_0x4fea38(0x10e)]();typeof _0x2d5072===_0x4fea38(0x172)&&(_0x3285ed[_0x4fea38(0x198)]=_0x2d5072);}updateItemDescription(_0x3285ed);}else{console[_0x4fea38(0x1d9)](_0xca705e[_0x4fea38(0x114)]+_0x4fea38(0x1b2));return;}}else{const _0x31d469={..._0xca705e,'enhancementLevel':0x1};if(typeof _0x31d469[_0x4fea38(0x10e)]===_0x4fea38(0x172)){const _0x4d5cef=_0x31d469[_0x4fea38(0x10e)]();typeof _0x4d5cef==='function'&&(_0x31d469[_0x4fea38(0x198)]=_0x4d5cef);}updateItemDescription(_0x31d469),items[_0x4fea38(0x18e)](_0x31d469);}}document[_0x4fea38(0x201)](_0x4fea38(0x146))[_0x4fea38(0x1fd)][_0x4fea38(0x13b)]=_0x4fea38(0x195),gameState=_0x4fea38(0x1a0),lastTime=performance[_0x4fea38(0x1b7)](),requestAnimationFrame(gameLoop);}function loadRankings(){const _0x3877f2=_0x3f6431,_0x5c2313=JSON[_0x3877f2(0x155)](localStorage[_0x3877f2(0x1d0)](_0x3877f2(0x164)))||[],_0x4d5c50=document[_0x3877f2(0x201)](_0x3877f2(0x1c4));_0x4d5c50[_0x3877f2(0x1be)]='',_0x5c2313[_0x3877f2(0x16f)]((_0x264e0c,_0x28c2d3)=>{const _0x59a22d=_0x3877f2,_0x4e2f9b=_0x4d5c50[_0x59a22d(0x1fa)]();_0x4e2f9b['insertCell'](0x0)[_0x59a22d(0x190)]=_0x28c2d3+0x1,_0x4e2f9b['insertCell'](0x1)['textContent']=_0x264e0c[_0x59a22d(0x120)],_0x4e2f9b['insertCell'](0x2)[_0x59a22d(0x190)]=_0x264e0c[_0x59a22d(0x1ea)];});}function flashPlayer(){let _0x512931=0x0;const _0x5a6987=setInterval(()=>{const _0xeebc78=_0x3dad;player[_0xeebc78(0xfb)]=!player[_0xeebc78(0xfb)],_0x512931++,_0x512931>=0x6&&(clearInterval(_0x5a6987),player[_0xeebc78(0xfb)]=!![]);},0xa6);}window[_0x3f6431(0x1b5)]('load',async()=>{const _0x1b2fae=_0x3f6431;await initGame(),window[_0x1b2fae(0x1b5)](_0x1b2fae(0x1b3),resizeCanvas);});